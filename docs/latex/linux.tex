\clearpage
\section{Linux}

\subsection{Reasoning behind using Linux}
Initially using a linux based system for a race telemetry application might seem excessive.
It however provides several benefits that make it superior to bare-metal.\\

Using linux provides a filesystem as well as a user environment
that makes it easy to develop and debug the application.\\

Another large advantage of using linux instead of bare-metal
is the built-in support for a large selection of hardware.
It means that development efforts can be focused on the high level logic
instead of low level protocol details.~\cite{jay-carlson-embedded-linux}

\subsection{Distributions}
There are various linux distributions that are well suited for a \verb|RaspberryPI|
embedded system.

%TODO write a bit about each system
\paragraph{Debian}
\verb|Debian| is known for being stable and secure.\\
It is the basis for many popular distributions, such as \verb|Ubuntu|, \verb|Tails| and many others.~\cite{reasons-to-use-debian}
% TODO write more

\paragraph{RasperryPI OS}
Based on debian it is optimized for the \verb|RaspberryPI|.

It is designed to be educational, so it contains a lot of extra software.
For embedded applications the system often doesn't need features like graphical interfaces
or complex text editors. Usually a \verb|tty| with \verb|vi| installed is enough.
% TODO write more

\paragraph{DietPI}
\verb|DietPI| is a \verb|Debian| based image designed to be as small as possible.
% TODO write more

\paragraph{Ubuntu Core}
\verb|Ubuntu Core| is a version of the popular \verb|Ubuntu| distribution,
designed with embedded applications in mind.\\

It is immutable, which would make any final products much more reliable.
It works by letting the developer choose the desired packages in the form of \verb|snap| packages.
Those packages are then installed on the final image.
Immutability prevents the end user from changing anything important.~\cite{ubuntu-core-manual}\\

One drawback of using \verb|snap| packages is that each package is separate from the others.
This approach solves dependency version conflicts at the cost of increased disk space usage.
In embedded systems disk space is often limited and in this case the overhead related with
\verb|snap| packages is not acceptable.

\paragraph{OpenWrt}
Short for \verb|Open  Wireless Router| it's an open source system designed
for networking devices. It's optimized in terms of size, utility and security.

It provides its users with a security oriented initial configuration.~\cite{openwrt-manual}

\subsection{Creating custom distributions}
In order to have better control over the hardware this project uses a custom
distribution. The most common ways of building such distributions are:

\paragraph{From scratch}
Building a custom linux distribution from scratch is a possibility. It gives the developer complete control over his system.
It is also a great way to gain insight on the inner workings of Linux.~\cite{linux-from-scratch}

However for this project that control will not be required. Instead it would
add unnecessary complexity.

\paragraph{Buildroot}
This option is one of the most popular on the market. It is often viewed as the simplest one.

\verb|Buildroot| provides the developer with a main config file where they can select the options they want
their final system to have. The entire build process is based on \verb|Makefiles|.
Every package has a \verb|.mk| file that describes how to download, configure, compile and install that package.

This design means that caching is limited, which can cause unnecessary rebuilds.

Another thing than makes it not suitable for this project is the structure of the config file being inherently unordered.
As the deciding factor the documentation being very difficult to read both due to its style and presentation.~\cite{buildroot-manual}

\paragraph{Yocto}
An open source tool for building custom linux-based systems.
It is designed with embedded applications in mind.

\verb|Yocto| provides abstraction over hardware using \verb|recipes|. A recipe
defines how to install a certain component or feature. Recipes can be reused,
which simplifies development by automating the installation process.

It is widely considered to be the industry standard for \verb|IoT| Linux applications.

While this option is definitely more complex than \verb|buildroot| it features much better documentation, as well as a thriving community
that makes development much easier.~\cite{yocto-manual}